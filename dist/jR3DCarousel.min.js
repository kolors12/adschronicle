/**
 * Author: Vinayak Rangnathrao Jadhav
 * Project: jR3DCarousel
 * Version: 0.0.5
 **/
(function(k){"function"===typeof define&&define.amd?define(["jquery"],k):"object"===typeof exports?module.exports=k(require("jquery")):k(jQuery)})(function(k){k.fn.jR3DCarousel=function(z){function x(){this.animations={slide:A,slide3D:B,scroll:C,scroll3D:D,fade:E}}function t(){c.find(".nav").css({backgroundColor:"rgba(77, 77, 77, 0.4)"}).eq(l%b).css({backgroundColor:"rgba(07, 07, 07, 1)"});n=(Math.round(f/e)-1)%b;a.onSlideShow.call(this,g.find(".slide").eq((n+1)%b))}function A(a){c.css({perspective:"",
overflow:"hidden"});f=e*a;g.css({transform:"translateZ("+-d+"px) rotateY("+-f+"deg)"});t()}function B(a){c.css({perspective:p,overflow:"visible"});f=e*a;g.css({transform:"translateZ("+-d+"px) rotateY("+-f+"deg)"});t()}function C(a){c.css({perspective:"",overflow:"hidden"});f=e*a;g.css({transform:"translateZ("+-d+"px) rotateX("+-f+"deg)"});t()}function D(a){c.css({perspective:p,overflow:"visible"});f=e*a;g.css({transform:"translateZ("+-d+"px) rotateX("+-f+"deg)"});t()}function E(c){g.css({transition:"opacity 0ms"});
g.css({opacity:0});g.css("opacity");g.css({transition:"opacity "+a.animationDuration+"ms "+a.animationCurve});f=e*c;g.css({transform:"translateZ("+-d+"px) rotateY("+-f+"deg)",opacity:1});t()}function y(){c.width("100%");h=c.width()<a.width?c.width():a.width;u=h/G;c.css({width:h+"px",height:u+"px"});-1!=a.animation.indexOf("slide")?(d=h/2/Math.tan(Math.PI/b),p=h/2*Math.tan(2*Math.PI/b)+"px"):-1!=a.animation.indexOf("scroll")?(d=u/2/Math.tan(Math.PI/b),p=u/2*Math.tan(2*Math.PI/b)+"px"):"fade"==a.animation&&
(d=h/2/Math.tan(Math.PI/b),p=h/2*Math.tan(2*Math.PI/b)+"px");c.find(".slide").each(function(c){var b=k(this);-1!=a.animation.indexOf("slide")?m="rotateY("+e*c+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?m="rotateX("+e*c+"deg) translateZ("+d+"px)":"fade"==a.animation&&(m="rotateY("+e*c+"deg) translateZ("+d+"px)");b.css({transform:m})})}var a=k.extend(!0,{},{width:1349,height:668,slides:[],slideLayout:"fill",animation:"slide3D",animationCurve:"ease",animationDuration:700,animationInterval:2E3,
autoplay:!0,controls:!0,navigation:"circles",onSlideShow:function(){}},z),c=this,h=a.width,u=a.height,G=a.width/a.height,g=k("<div class='jR3DCarousel' />").css({width:"100%",height:"100%",transition:"transform "+a.animationDuration+"ms "+a.animationCurve,transformStyle:"preserve-3d"}).appendTo(c),n=0,l=1,v=new x,q,r,w,e,f=0,d,p,m,b=a.slides.length||c.find(".slide").length;(function(){function F(){q=k("<div class='previous controls' style='left: 7px; transform: rotate(-45deg);'></div>");r=k("<div class='next controls' style='right: 7px; transform: rotate(135deg);'></div>");
q.add(r).appendTo(c).css({position:"absolute",top:"42%",zIndex:1,display:"inline-block",padding:"14px",boxShadow:"4px 4px 0 rgba(177,177,177,0.7) inset",cursor:"pointer"}).hide();q.on("click",function(){n=Math.round(f/e);l=n-1;v.run(a.animation,l)});r.on("click",function(){n=Math.round(f/e);l=n+1;v.run(a.animation,l)});c.hover(function(){q.add(r).fadeIn()},function(){q.add(r).fadeOut()});var b=!1,d=0,g=0,h;c.on("mousedown",function(a){a.preventDefault();b=!0;d=a.pageX;g=a.pageY;h=""}).on("mousemove",
function(a){a.preventDefault();b&&(20<Math.abs(d-a.pageX)?h=d>a.pageX?"left":"right":20<Math.abs(g-a.pageY)&&(h=g<a.pageY?"left":"right"))}).on("mouseup",function(){b=!1;"left"==h?r.click():"right"==h&&q.click()});k(document).on("keydown",function(a){var b=c[0].getBoundingClientRect();(b=0<b.bottom&&0<b.right&&b.left<(innerWidth||document.documentElement.clientWidth)&&b.top<(innerHeight||document.documentElement.clientHeight))&&37==a.which?(clearInterval(w),q.click()):b&&39==a.which&&(clearInterval(w),
r.click())})}function t(){for(var d=a.navigation,e=k("<div class=navigation />").css({position:"absolute",bottom:0,right:0}),h=0;h<b;h++)e.append("<div class=nav></div>");"circles"==d?e.find(".nav").css({border:"1px dashed #ccc",borderRadius:"12px"}):"squares"==d&&e.find(".nav").css({border:"1px ridge #fff"});e.find(".nav").css({display:"inline-block",margin:"5px",cursor:"pointer",backgroundColor:"rgba(77, 77, 77, 0.7)",width:"12px",height:"12px"}).first().css({backgroundColor:"rgba(07, 07, 07, 1)"});
g.after(e);c.on("click",".nav",function(){l=k(this).index();v.run(a.animation,l)})}function x(){w=setInterval(function(){n=Math.round(f/e);l=n+1;v.run(a.animation,l)},a.animationInterval+a.animationDuration);c.hover(function(){clearInterval(w)},function(){w=setInterval(function(){n=Math.round(f/e);l=n+1;v.run(a.animation,l)},a.animationInterval+a.animationDuration)})}(function(){-1!=a.animation.indexOf("slide")?(d=h/2/Math.tan(Math.PI/b),p=h/2*Math.tan(2*Math.PI/b)+"px"):-1!=a.animation.indexOf("scroll")?
(d=u/2/Math.tan(Math.PI/b),p=u/2*Math.tan(2*Math.PI/b)+"px"):"fade"==a.animation&&(d=h/2/Math.tan(Math.PI/b),p=h/2*Math.tan(2*Math.PI/b)+"px");e=360/b;if(a.slides.length)for(var f=0;f<a.slides.length;f++){var l=k("<div class='slide' data-index="+f+" />").append("<img src='"+a.slides[f].src+"' alt='"+a.slides[f].alt+"' />");-1!=a.animation.indexOf("slide")?m="rotateY("+e*f+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?m="rotateX("+e*f+"deg) translateZ("+d+"px)":"fade"==a.animation&&
(m="rotateY("+e*f+"deg) translateZ("+d+"px)");l.css({transform:m});g.append(l)}else c.find(".slide").each(function(b){var c=k(this).attr("data-index",b);-1!=a.animation.indexOf("slide")?m="rotateY("+e*b+"deg) translateZ("+d+"px)":-1!=a.animation.indexOf("scroll")?m="rotateX("+e*b+"deg) translateZ("+d+"px)":"fade"==a.animation&&(m="rotateY("+e*b+"deg) translateZ("+d+"px)");c.css({transform:m}).detach();g.append(c)});g.find(".slide").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",
backfaceVisibility:"hidden"});g.find(".slide img").css({width:"100%",height:"100%",objectFit:a.slideLayout});c.css({perspective:p,width:h+"px",height:u+"px",position:"relative",overflow:"visible"})})();a.controls&&F();a.navigation&&t();a.autoplay&&x();addEventListener("resize",y);y()})();x.prototype.run=function(a,b){this.animations[a](b)};this.showSlide=function(a){g.find(".nav").eq((a-1)%b).click()};this.getCurrentSlide=function(){return g.find(".slide").eq(n)};this.getSlideByIndex=function(a){return g.find(".slide[data-index="+
a+"]")};this.showPreviousSlide=function(){q.click()};this.showNextSlide=function(){r.click()};return this}});